DESTDIR =

SOURCES = $(shell find .. -name "*.py")
UIS     = $(shell find .. -name "*.ui")
TS_FILES = $(shell ls *.ts)
QM_FILES = $(patsubst %.ts, %.qm, $(TS_FILES))
PYLUPDATE ?= pylupdate5

all:$(QM_FILES)

$(QM_FILES): $(TS_FILES)
	lrelease -qt5 jongle.pro

$(TS_FILES): jongle.pro
	$(PYLUPDATE) jongle.pro



clean:
	rm -f *~ $(QM_FILES) jongle.pro

install:

jongle.pro: $(SOURCES) $(UIS)
	echo "#This file is automatically generated; do not edit." > $@
	echo "SOURCES = $(SOURCES)" >> $@
	echo "TRANSLATIONS = $(TS_FILES)"  >> $@
